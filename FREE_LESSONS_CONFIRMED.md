## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï: –ë–ï–°–ü–õ–ê–¢–ù–´–ï –£–†–û–ö–ò –†–ê–ë–û–¢–ê–Æ–¢ –ö–û–†–†–ï–ö–¢–ù–û

### üéØ –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ —É—Ä–æ–∫–∞–º–∏:

#### 1. üìã **–í –∫–∞—Ç–∞–ª–æ–≥–µ**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —É—Ä–æ–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å –∏–∫–æ–Ω–∫–æ–π üéÅ
- ‚úÖ –ü–æ–¥–ø–∏—Å—å: "üéÅ –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ (–ë–ï–°–ü–õ–ê–¢–ù–û)"
- ‚úÖ –ù–µ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–∏)

#### 2. üìÑ **–í –¥–µ—Ç–∞–ª—è—Ö —É—Ä–æ–∫–∞**
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: "üéÅ –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞"
- ‚úÖ –¶–µ–Ω–∞: "üéÜ –ë–ï–°–ü–õ–ê–¢–ù–û!"
- ‚úÖ –ö–Ω–æ–ø–∫–∞: "üéÅ –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
- ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–ª–∞—Ç–Ω—ã—Ö)

#### 3. üí∞ **–ü—Ä–∏ "–ø–æ–∫—É–ø–∫–µ"**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ–∫—É–ø–∫–∏
- ‚úÖ price_paid_usd: $0
- ‚úÖ price_paid_stars: 0 ‚≠ê
- ‚úÖ payment_id: "free_lesson"
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ: "‚úÖ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –£—Ä–æ–∫ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω!"

#### 4. üìö **–í "–ú–æ–∏—Ö —É—Ä–æ–∫–∞—Ö"**
- ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫: "üìö –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞"
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É —É—Ä–æ–∫–∞

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —É—Ä–æ–∫–∞:**
```python
# –í –¥–µ—Ç–∞–ª—è—Ö —É—Ä–æ–∫–∞:
is_free_lesson = lesson_data.is_free or float(lesson_data.price_usd) == 0

# –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ:
is_free_lesson = (hasattr(lesson_data, 'is_free') and lesson_data.is_free) or float(lesson_data.price_usd) == 0
```

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞:**
```python
# –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç—ã —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–≤–æ–¥–Ω—ã–π —É—Ä–æ–∫"
is_auto_lead_magnet = (
    lesson.get('is_free', False) and 
    lesson.get('title', '').strip() == "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–≤–æ–¥–Ω—ã–π —É—Ä–æ–∫"
)
```

### üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ 2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —É—Ä–æ–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ
- ‚úÖ "–ü–æ–∫—É–ø–∫–∞" —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ—è–≤–ª—è—é—Ç—Å—è –≤ "–ú–æ–∏—Ö —É—Ä–æ–∫–∞—Ö"

### üí° **–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ–±–ª–µ–º—ã:**
**–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:** –í—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —É—Ä–æ–∫–∏ (`is_free=True`) –∏—Å–∫–ª—é—á–∞–ª–∏—Å—å –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
**–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —É—Ä–æ–∫–∏, –∫—Ä–æ–º–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤

**–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ –¥–µ–ª–∞—Ç—å —É—Ä–æ–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ - –æ–Ω–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –∏—Ö –ø–æ–ª—É—á–∏—Ç—å!** üéØ