# üìã –†–µ–∑—é–º–µ —É–ª—É—á—à–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º —É—Ä–æ–∫–æ–≤

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —É—Ä–æ–∫ "123" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ **"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"**.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —É—Ä–æ–∫–∞ "123" (ID 5) –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ:
- `content_type = 'text'` 
- `text_content = NULL/–ø—É—Å—Ç–æ–π`
- `video_file_id = NULL`

**–ü—Ä–∏—á–∏–Ω–∞:** –£—Ä–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–π, –Ω–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º —É—Ä–æ–∫–æ–≤ —Å –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏:

### –î–æ (—Å—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):
```
"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
```

### –ü–æ—Å–ª–µ (–Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è):

| –°–∏—Ç—É–∞—Ü–∏—è | –°–æ–æ–±—â–µ–Ω–∏–µ |
|----------|-----------|
| –¢–µ–∫—Å—Ç–æ–≤—ã–π —É—Ä–æ–∫ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ | üìù –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ |
| –í–∏–¥–µ–æ —É—Ä–æ–∫ –±–µ–∑ –≤–∏–¥–µ–æ | üé• –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç –≤–∏–¥–µ–æ |
| –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø | üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∏–ø–∞ 'X' –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| –î—Ä—É–≥–∏–µ —Å–ª—É—á–∞–∏ | üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ |

### –î–ª—è fallback —Å–ª—É—á–∞–µ–≤ (–∫–æ–≥–¥–∞ –≤–∏–¥–µ–æ –Ω–µ —É–¥–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å):
```
üé• –í–∏–¥–µ–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
```

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –§–∞–π–ª: `handlers/shop.py`
**–§—É–Ω–∫—Ü–∏—è:** `view_lesson_content()` (—Å—Ç—Ä–æ–∫–∏ ~433-445)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
2. –°–æ–∑–¥–∞–Ω—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è
3. –£–ª—É—á—à–µ–Ω fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤ —Å–±–æ—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ

### –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```python
# –°–æ–∑–¥–∞–µ–º –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º
if not lesson_data.text_content and lesson_data.content_type == 'text':
    content_message = "üìù –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ"
elif not lesson_data.video_file_id and lesson_data.content_type == 'video':
    content_message = "üé• –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç –≤–∏–¥–µ–æ"
elif lesson_data.content_type not in ['text', 'video']:
    content_message = f"üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∏–ø–∞ '{lesson_data.content_type}' –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è"
else:
    content_message = "üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –£—Ä–æ–∫ "123" (ID 5):
- **–ë—ã–ª–æ:** "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
- **–°—Ç–∞–ª–æ:** "üìù –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ"

### –£—Ä–æ–∫ "–Ω–æ–≤—ã–π" (ID 1):
- **–¢–∏–ø:** text –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- **–°–æ–æ–±—â–µ–Ω–∏–µ:** "üìù –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ"

### –£—Ä–æ–∫ "–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é" (ID 4):
- **–¢–∏–ø:** video —Å –≤–∏–¥–µ–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ —É—Ä–æ–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

1. **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** –Ø—Å–Ω–æ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫–æ–π —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è  
3. **–î—Ä—É–∂–µ–ª—é–±–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ "–ø–æ–∫–∞ –Ω–µ—Ç" –≤–º–µ—Å—Ç–æ "–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
4. **–≠–º–æ–¥–∑–∏:** –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è
5. **–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å:** –†–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–±–ª–µ–º

## üöÄ –°—Ç–∞—Ç—É—Å
‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û**
- –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω
- –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω  
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —É–ª—É—á—à–µ–Ω–∏–µ
- –í—Å–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç–æ–º, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —É—Ä–æ–∫–µ!** üéØ